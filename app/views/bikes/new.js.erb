

//ERROR HANDLING

//remove old validation messages



var errorMotorNoDiv = document.getElementById('error-motor-no')
var errorColourDiv = document.getElementById('error-colour')

var motorNoInput = document.getElementById('motor-no-input')
var colourInput = document.getElementById('bike-colour-input')

errorMotorNoDiv.innerHTML = "<%= escape_javascript(@errorMotorNo[0]) %>"
errorColourDiv.innerHTML = "<%= escape_javascript(@errorColour[0]) %>"

<% if @resetForm == "1" %>
  document.getElementById("bike-form").reset()
<% else %>
  motorNoInput.classList.add('is-invalid')
  colourInput.classList.add('is-invalid')
<% end %>

//Add new input to page via AJAX
var bikeList = document.getElementById('bike-list')
var newBike = "<%= escape_javascript( render 'bikes/bike', bike: @bike ) %>"

var div = document.createElement('div')

div.innerHTML = newBike

bikeList.appendChild(div.firstChild)
